---


- name: Download CRI-Containerd x86_64
  oss_file:
    oss_bucket: "{{ oss_bucket_name }}"
    object: "/centos9/cri-containerd-cni-{{ cri_containerd_version }}-linux-amd64.tar.gz"
    dest: "/root/soft/cri-containerd-cni-{{ cri_containerd_version }}-linux.tar.gz"
    mode: get
  when: " ansible_architecture == 'x86_64' "

- name: Download CRI-Containerd ARM
  oss_file:
    oss_bucket: "{{ oss_bucket_name }}"
    object: "/centos9/cri-containerd-cni-{{ cri_containerd_ARM_version }}-linux-arm64.tar.gz"
    dest: "/root/soft/cri-containerd-cni-{{ cri_containerd_version }}-linux.tar.gz"
    mode: get
  when: " ansible_architecture == 'aarch64' "


- name: Download Kubernetes Node x86_64
  oss_file:
    oss_bucket: "{{ oss_bucket_name }}"
    object: "/centos9/kube-node.tar.gz"
    dest: "/root/soft/kube-node.tar.gz"
    mode: get
  when: " ansible_architecture == 'x86_64' "

- name: Download Kubernetes Node ARM
  oss_file:
    oss_bucket: "{{ oss_bucket_name }}"
    object: "/centos9/kube-node.{{ kube_version }}.arm64.tar.gz"
    dest: "/root/soft/kube-node.tar.gz"
    mode: get
  when: " ansible_architecture == 'aarch64' "

