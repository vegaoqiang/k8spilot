---

# kube-master 已经包含master和node

- name: Download Kubernetes Master x86_64
  oss_file:
    oss_bucket: "{{ oss_bucket_name }}"
    object: "/centos9/kube-master.tar.gz"
    dest: "/root/soft/kube-master.tar.gz"
    mode: get
  when: " ansible_architecture == 'x86_64' "

- name: Download Kubernetes Master ARM
  oss_file:
    oss_bucket: "{{ oss_bucket_name }}"
    object: "/centos9/kube-master.{{ kube_version }}.arm64.tar.gz"
    dest: "/root/soft/kube-master.tar.gz"
    mode: get
  when: " ansible_architecture == 'aarch64' "    


- name: Download Helm Binary x86_64
  oss_file:
    oss_bucket: "{{ oss_bucket_name }}"
    object: "/centos9/helm-{{ helm_version }}-linux-amd64.tar.gz"
    dest: "/root/soft/helm.tar.gz"
    mode: get
  when: " ansible_architecture == 'x86_64' "

- name: Download Helm Binary ARM
  oss_file:
    oss_bucket: "{{ oss_bucket_name }}"
    object: "/centos9/helm-{{ helm_ARM_version }}-linux-arm64.tar.gz"
    dest: "/root/soft/helm.tar.gz"
    mode: get
  when: " ansible_architecture == 'aarch64' "


- name: Download Cilium Cli x86_64
  oss_file:
    oss_bucket: "{{ oss_bucket_name }}"
    object: "/centos9/cilium-linux-amd64.tar.gz"
    dest: "/root/soft/cilium-linux.tar.gz"
    mode: get
  when: " ansible_architecture == 'x86_64' "

- name: Download Cilium Cli ARM
  oss_file:
    oss_bucket: "{{ oss_bucket_name }}"
    object: "/centos9/cilium-linux-arm64.tar.gz"
    dest: "/root/soft/cilium-linux.tar.gz"
    mode: get
  when: " ansible_architecture == 'aarch64' "

